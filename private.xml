<?xml version="1.0"?>
<root>
  <!-- define some applications here -->
  <appdef>
    <appname>CONKEROR</appname>
    <equal>org.mozdev.conkeror</equal>
  </appdef>
  <appdef>
    <appname>EMACS</appname>
    <equal>org.gnu.Emacs</equal>
    <equal>org.gnu.AquamacsEmacs</equal>
    <equal>org.gnu.Aquamacs</equal>
  </appdef>
  <appdef>
	<appname>TERMINAL</appname>
	<equal>com.apple.Terminal</equal>
    <equal>iTerm</equal>
    <equal>net.sourceforge.iTerm</equal>
    <equal>com.googlecode.iterm2</equal>
  </appdef>
  <appdef>
	<appname>GOOGLE-CHROME</appname>
	<equal>com.google.Chrome</equal>
  </appdef>
  <appdef>
	<appname>SKYPE</appname>
	<equal>com.skype.skype</equal>
  </appdef>
  <appdef>
	<appname>ITUNES</appname>
	<equal>com.apple.iTunes</equal>
  </appdef>
  <appdef>
	<appname>FINDER</appname>
	<equal>com.apple.finder</equal>
  </appdef>
  <appdef>
	<appname>APPLE-MAIL</appname>
	<equal>com.apple.mail</equal>
  </appdef>
  <appdef>
	<appname>VIBER</appname>
	<equal>com.viber.osx</equal>
  </appdef>
  <appdef>
	<appname>FOLX</appname>
	<equal>com.eltima.Folx</equal>
  </appdef>
  <appdef>
	<appname>APPLE-CALENDAR</appname>
	<equal>com.apple.iCal</equal>
  </appdef>
  <appdef>
    <appname>VIRTUALMACHINE</appname>
    <equal>com.vmware.fusion</equal>
    <equal>com.parallels.desktop</equal>
    <equal>com.parallels.vm</equal>
    <equal>com.parallels.desktop.console</equal>
    <equal>org.virtualbox.app.VirtualBoxVM</equal>
    <prefix>com.vmware.proxyApp.</prefix>
    <prefix>com.parallels.winapp.</prefix>
  </appdef>
  <appdef>
	<appname>ACTIVITY-MONITOR</appname>
	<equal>com.apple.ActivityMonitor</equal>
  </appdef>
  <appdef>
	<appname>APPSTORE</appname>
	<equal>com.apple.appstore</equal>
  </appdef>
  <appdef>
	<appname>AUTOMATOR</appname>
	<equal>com.apple.Automator</equal>
  </appdef>
  <appdef>
	<appname>CALCULATOR</appname>
	<equal>com.apple.calculator</equal>
  </appdef>
  <appdef>
	<appname>CONTACT</appname>
	<equal>com.apple.AddressBook</equal>
  </appdef>
  <appdef>
    <appname>FIREFOX</appname>
    <equal>org.mozilla.firefox</equal>
    <equal>org.mozilla.aurora</equal>
    <equal>org.mozilla.nightly</equal>
  </appdef>
  <appdef>
	<appname>IPHOTO</appname>
	<equal>com.apple.iPhoto</equal>
  </appdef>
  <appdef>
	<appname>PHOTOBOOTH</appname>
	<equal>com.apple.PhotoBooth</equal>
  </appdef>
  <appdef>
	<appname>PREVIEW</appname>
	<equal>com.apple.Preview</equal>
  </appdef>
  <appdef>
	<appname>PROXIFIER</appname>
	<equal>com.initex.proxifier.macosx</equal>
  </appdef>
  <appdef>
	<appname>SAFARI</appname>
	<equal>com.apple.Safari</equal>
  </appdef>
  <appdef>
	<appname>SYSTEM-PREFERENCES</appname>
	<equal>com.apple.systempreferences</equal>
  </appdef>
  <appdef>
	<appname>TEXTEDIT</appname>
	<equal>com.apple.TextEdit</equal>
  </appdef>
  <appdef>
	<appname>WAKE-UP-TIME</appname>
	<equal>com.rockysandstudio.WakeUpTime</equal>
  </appdef>
  <appdef>
	<appname>CYBERDUCK</appname>
	<equal>ch.sudo.cyberduck</equal>
  </appdef>
  <appdef>
	<appname>MAX</appname>
	<equal>org.sbooth.Max</equal>
  </appdef>
  <appdef>
	<appname>VLC</appname>
	<equal>org.videolan.vlc</equal>
  </appdef>
  <appdef>
	<appname>UTORRENT</appname>
	<equal>com.bittorrent.uTorrent</equal>
  </appdef>
  <appdef>
    <appname>X11</appname>
    <equal>org.x.X11</equal>
    <equal>com.apple.x11</equal>
    <equal>org.macosforge.xquartz.X11</equal>
    <equal>org.macports.X11</equal>
  </appdef>

  <!-- replacement string -->
  <replacementdef>
    <replacementname>TMTXT_EMACS_MODE_IGNORE_APPS</replacementname>
    <replacementvalue>
	  EMACS,
	  CONKEROR,
	  TERMINAL,
	  VIRTUALMACHINE,
	  X11,
	</replacementvalue>
  </replacementdef>
  
  <item>

	<!-- emacs mode -->
	<name>Tmtxt Emacs Mode</name>
	<item>
      <name>Control+D to Forward Delete</name>
      <appendix>(when there are no other modifiers)</appendix>
      <identifier>private.emacsmode_controlD_nomodifiers</identifier>
      <not>{{TMTXT_EMACS_MODE_IGNORE_APPS}}</not>
      <autogen>__KeyToKey__ KeyCode::D, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_CONTROL | ModifierFlag::NONE, KeyCode::FORWARD_DELETE</autogen>
    </item>
	<item>
      <name>Control+[ to Escape</name>
      <identifier>private.emacsmode_controlLeftbracket</identifier>
      <not>{{TMTXT_EMACS_MODE_IGNORE_APPS}}</not>
      <autogen>__KeyToKey__ KeyCode::BRACKET_LEFT, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_CONTROL, KeyCode::ESCAPE</autogen>
    </item>
	<item>
      <name>Control+M to Return</name>
      <identifier>private.emacsmode_controlM</identifier>
      <not>{{TMTXT_EMACS_MODE_IGNORE_APPS}}</not>
      <autogen>__KeyToKey__ KeyCode::M, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_CONTROL, KeyCode::RETURN</autogen>
    </item>
	<item>
	  <name>Control+P to Up</name>
	  <appendix>(when there are no other modifiers)</appendix>
	  <identifier>private.emacsmode_controlP</identifier>
	  <not>{{TMTXT_EMACS_MODE_IGNORE_APPS}}</not>
	  <autogen>__KeyToKey__ KeyCode::P, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_CONTROL | ModifierFlag::NONE, KeyCode::CURSOR_UP</autogen>
	</item>
	<item>
	  <name>Control+N to Down</name>
	  <appendix>(when there are no other modifiers)</appendix>
	  <identifier>private.emacsmode_controlN</identifier>
	  <not>{{TMTXT_EMACS_MODE_IGNORE_APPS}}</not>
	  <autogen>__KeyToKey__ KeyCode::N, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_CONTROL | ModifierFlag::NONE, KeyCode::CURSOR_DOWN</autogen>
	</item>
	<item>
	  <name>Control+B to Left</name>
	  <appendix>(when there are no other modifiers)</appendix>
	  <identifier>private.emacsmode_controlB</identifier>
	  <not>{{TMTXT_EMACS_MODE_IGNORE_APPS}}</not>
	  <autogen>__KeyToKey__ KeyCode::B, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_CONTROL | ModifierFlag::NONE, KeyCode::CURSOR_LEFT</autogen>
	</item>
	<item>
	  <name>Control+F to Right</name>
	  <appendix>(when there are no other modifiers)</appendix>
	  <identifier>private.emacsmode_controlF</identifier>
	  <not>{{TMTXT_EMACS_MODE_IGNORE_APPS}}</not>
	  <autogen>__KeyToKey__ KeyCode::F, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_CONTROL | ModifierFlag::NONE, KeyCode::CURSOR_RIGHT</autogen>
	</item>
	<item>
      <name>Control+V to PageDown</name>
      <identifier>private.emacsmode_controlV</identifier>
      <not>{{TMTXT_EMACS_MODE_IGNORE_APPS}}</not>
      <autogen>__KeyToKey__ KeyCode::V, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_CONTROL, KeyCode::PAGEDOWN</autogen>
    </item>
    <item>
      <name>Option+V to PageUp</name>
      <identifier>private.emacsmode_optionV</identifier>
      <not>{{TMTXT_EMACS_MODE_IGNORE_APPS}}</not>
      <autogen>__KeyToKey__ KeyCode::V, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_OPTION, KeyCode::PAGEUP</autogen>
    </item>
	<item>
      <name>Control+Y to Command+V</name>
      <identifier>private.emacsmode_controlY</identifier>
      <not>{{TMTXT_EMACS_MODE_IGNORE_APPS}}</not>
      <autogen>__KeyToKey__ KeyCode::Y, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_CONTROL, KeyCode::V, ModifierFlag::COMMAND_L</autogen>
    </item>
	<item>
      <name>Control+A to Command+Left</name>
      <identifier>private.emacsmode_controlA</identifier>
      <not>{{TMTXT_EMACS_MODE_IGNORE_APPS}}</not>
      <autogen>__KeyToKey__ KeyCode::A, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_CONTROL, KeyCode::CURSOR_LEFT, ModifierFlag::COMMAND_L</autogen>      
    </item>
	<item>
      <name>Control+E to Command+Right</name>
      <identifier>private.emacsmode_controlE</identifier>
      <not>{{TMTXT_EMACS_MODE_IGNORE_APPS}}</not>
      <autogen>__KeyToKey__ KeyCode::E, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_CONTROL, KeyCode::CURSOR_RIGHT, ModifierFlag::COMMAND_L</autogen>
    </item>
	<item>
      <name>Control+K to Command+Shift+Right,Command+X</name>
	  <appendix>(C-k to kill all line and put it into blackboard)</appendix>
      <identifier>private.emacsmode_controlK</identifier>
      <block>
        <not>{{TMTXT_EMACS_MODE_IGNORE_APPS}}, DICTIONARY</not>
        <autogen>__KeyToKey__ KeyCode::K, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_CONTROL | ModifierFlag::NONE, KeyCode::CURSOR_RIGHT, ModifierFlag::COMMAND_L | ModifierFlag::SHIFT_L, KeyCode::X, ModifierFlag::COMMAND_L</autogen>
      </block>
      <block>
        <only>DICTIONARY</only>
        <autogen>__KeyToKey__ KeyCode::K, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_CONTROL | ModifierFlag::NONE, KeyCode::E, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_CONTROL | ModifierFlag::SHIFT_L, KeyCode::X, ModifierFlag::COMMAND_L</autogen>
      </block>
    </item>
	<item>
      <name>Control+W to Command+X</name>
      <identifier>private.emacsmode_controlW</identifier>
      <not>{{TMTXT_EMACS_MODE_IGNORE_APPS}}</not>
      <autogen>__KeyToKey__ KeyCode::W, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_CONTROL, KeyCode::X, ModifierFlag::COMMAND_L</autogen>
    </item>
	<item>
      <name>Option+W to Command+C</name>
      <identifier>private.emacsmode_OptionWCopy</identifier>
      <not>{{TMTXT_EMACS_MODE_IGNORE_APPS}}</not>
      <autogen>__KeyToKey__ KeyCode::W, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_OPTION, KeyCode::C, ModifierFlag::COMMAND_L</autogen>
    </item>
	<item>
      <name>Option+B to Option+Left</name>
      <identifier>private.emacsmode_optionB</identifier>
      <not>{{TMTXT_EMACS_MODE_IGNORE_APPS}}</not>
      <autogen>__KeyToKey__ KeyCode::B, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_OPTION, KeyCode::CURSOR_LEFT, ModifierFlag::OPTION_L</autogen>
    </item>
	<item>
      <name>Option+F to Option+Right</name>
      <identifier>option.emacsmode_optionF</identifier>
      <not>{{TMTXT_EMACS_MODE_IGNORE_APPS}}</not>
      <autogen>__KeyToKey__ KeyCode::F, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_OPTION, KeyCode::CURSOR_RIGHT, ModifierFlag::OPTION_L</autogen>
    </item>
	
  </item>
</root>
